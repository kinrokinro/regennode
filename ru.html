<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Regen - гайд для начинающих</title>
    <meta name="description" content="The complete guide for Regen testnet node set-up">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
    <link rel="manifest" href="favicon/site.webmanifest">
    <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://regennode.info/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Regen - Beginners Guide">
    <meta property="og:description" content="The complete guide for Regen testnet node set-up">
    <meta property="og:image" content="">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="regennode.info">
    <meta property="twitter:url" content="https://regennode.info/">
    <meta name="twitter:title" content="Regen - Beginners Guide">
    <meta name="twitter:description" content="The complete guide for Regen testnet node set-up">
    <meta name="twitter:image" content="">
</head>

<body>
    <!--[if lt IE 7]>
                <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
            <![endif]-->
    <div class="language-container">
        <a href="./">English</a>
    </div>
    <header class="">
        <div class="row my-3">
            <div class="col-6">
                <img src="img/regen_logo.png" class="img-fluid logo-image mt-3 mr-0" alt="Logo">
            </div>
            <div class="col-6 header-title">
                <h1>Begginer Guide</h1>
                <h4>Regen</h4>
            </div>
        </div>
    </header>
    <div class="container main-container">
        <div class="row">
            <div class="col-sm">
                <div class="alert alert-success text-center">
                    <p class="mb-0">Последняя версия: 0.6.0</p>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm">
                <p class="text-center">Привет! Этот гайд создан для того, чтобы позволить любому человеку развернуть
                    ноду Regen без особых сложностей.</p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm mb-5">
                <h3>Требования:</h3>
                <ul>
                    <li>Сервер со следующими характеристиками:</li>
                    <ul>
                        <li>Минимум 8 гигабайт оперативной памяти</li>
                        <li>Минимум 4-х поточный процессор</li>
                        <li>200 гигабайт SSD</li>
                    </ul>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="col-sm mb-5">
                    <h3>0. Покупка сервера</h3>
                    <button type="button" class="btn btn-primary" id="vpsButton">Раскрыть содержимое</button><br>
                    <div id="vpsContent" class="d-none mb-3">
                        Для начала нужно определиться с местом, где мы будем брать наш сервер. Я рекомендую сервис <a
                            href="https://www.vultr.com/?ref=8671282">Vultr.com</a>, поэтому в качестве примера мы будем
                        рассматривать именно его.<br>
                        <strong>Регистрация</strong><br>
                        Переходим на <a href="https://www.vultr.com/?ref=8671282">сайт</a>, кликаем Sign Up<br>
                        <img src="img/vps/1.png" class="img-fluid mb-2" alt="VPS Installing 1"><br>
                        Заполняем форму, кликаем Create Account<br>
                        <img src="img/vps/2.png" class="img-fluid mb-2" alt="VPS Installing 2"><br>
                        В <a href="https://my.vultr.com/">личном кабинете</a> кликаем на плюсик:<br>
                        <img src="img/vps/3.png" class="img-fluid mb-2" alt="VPS Installing 3"><br>
                        Нам нужен сервер с минимум 8 гигабайтами оперативной памяти, минимум 4 vCPU (потоками) и 200GB
                        SSD, ищем,
                        находим:<br>
                        <img src="img/vps/4.png" class="img-fluid mb-2" alt="VPS Installing 4"><br>
                        <img src="img/vps/5.png" class="img-fluid mb-2" alt="VPS Installing 5"><br>
                        <img src="img/vps/6.png" class="img-fluid mb-2" alt="VPS Installing 6"><br>
                        Арендуем<br>
                        <img src="img/vps/7.png" class="img-fluid mb-2" alt="VPS Installing 7"><br>
                        Кликаем на Products слева в верхнем углу, переходим в панель с нашими серверами, ждем пока
                        сервер перейдет в статус Running, кликаем на сервер<br>
                        <img src="img/vps/8.png" class="img-fluid mb-2" alt="VPS Installing 8"><br>
                        Теперь нам нужны данные для подключения к серверу: его IP, логин и пароль. Их мы можем найти в
                        местах, указанных на скриншоте:<br>
                        <img src="img/vps/9.png" class="img-fluid mb-2" alt="VPS Installing 9"><br>
                        Нам нужно подключиться к нашему серверу, для этого воспользуемся программой <a
                            href="https://termius.com/">Termius</a>, скачиваем, устанавливаем, запускаем.<br>
                        Необходимо создать новое подключение, для этого проделываем действия как на скриншоте<br>
                        <img src="img/vps/10.png" class="img-fluid mb-2" alt="VPS Installing 10"><br>
                        В указанные поля нужно внести данные которые мы получали из панели сервера в Vultr, а именно:
                        IP, логин и пароль. В поле Label пишем что угодно - это название нашего севрера в списке
                        серверов
                        в Termius.<br>
                        <img src="img/vps/11.png" class="img-fluid mb-2" alt="VPS Installing 11"><br>
                        Два раза кликаем по добавленному серверу, в открывшемся диалоговом окне нажимаем "yes".<br>
                        <img src="img/vps/12.png" class="img-fluid mb-2" alt="VPS Installing 12"><br>
                        <img src="img/vps/13.png" class="img-fluid mb-2" alt="VPS Installing 13"><br>
                        Поздравляю, вы зашли! Можно продолжать.
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="col-sm">
                    <div class="mb-5" id="preparation">
                        <h3>1. Подготовка сервера</h3>
                        <div>
                            <!-- <h4>1.1. Подготовка окружения</h4>
                                <div class="mb-4 ml-1">
                                    Сначала нам нужно подготовить окружение к работе, для этого мы все будем делать в
                                    отдельном скрине и запишем переменные, которые нам пригодятся позднее:<br>
                                    <kbd>screen -S regen_node</kbd><br>
                                    <kbd>echo 'export REGEN_WALLET=имя кошелька' >>
                                        $HOME/.bashrc</kbd> (если у вас уже есть кошелек - regen keys list)<br>
                                    <kbd>echo 'export REGEN_MONIKER=имядляноды' >>
                                        $HOME/.bashrc</kbd> (можно любое)<br>
                                    <kbd>source ~/.bashrc</kbd><br>
                                </div> -->
                            <h4>1.1. Установка зависимостей</h4>
                            <div class="mb-4 ml-1">
                                Для начала нам необходимо установить зависимости, для этого выполняем следующую
                                команду:<br>
                                <kbd>sudo apt-get install build-essential jq screen wget -y</kbd><br>
                            </div>
                            <h4>1.2. Установка Go</h4>
                            <div class="mb-4 ml-1">
                                Для компиляции и последующей установки ноды нам нужно установить Go, делаем это
                                командами:<br>
                                <kbd>wget https://golang.org/dl/go1.15.8.linux-amd64.tar.gz</kbd><br>
                                <kbd>tar -C /usr/local -xzf go1.15.8.linux-amd64.tar.gz</kbd><br>
                                <kbd>echo 'export PATH=$PATH:/usr/local/go/bin' >> $HOME/.bashrc</kbd><br>
                                <kbd>echo 'export GOPATH=/usr/local/go' >> $HOME/.bashrc</kbd><br>
                                <kbd>source ~/.bashrc</kbd><br>
                                <kbd>go version</kbd><br>
                                Должно вывести "go version go1.15.8..."
                            </div>
                        </div>
                    </div>
                    <div class="mb-5" id="setup">
                        <h3>2. Установка ноды</h3>
                        <div class="mb-4">
                            Теперь нам нужно скомпилировать и установить ноду Regen, для этого выполняем следующие
                            команды:<br>
                            <kbd>mkdir -p $GOPATH/src/github.com/regen</kbd><br>
                            <kbd>cd $GOPATH/src/github.com/regen</kbd><br>
                            <kbd>git clone https://github.com/regen-network/regen-ledger.git</kbd><br>
                            <kbd>cd regen-ledger</kbd><br>
                            <kbd>git checkout v0.6.0</kbd><br>
                            <kbd>make install</kbd><br>
                            Ждем конца процесса установки.<br>
                        </div>
                        <div class="mb-4">
                            Проверим, все ли установилось корректно:<br>
                            <kbd>regen version --long | grep "version"</kbd><br>
                            <img src="img/1.png" class="img-fluid my-1" alt="Regen Status"><br>
                            Если да - вы увидите примерно то же самое, что и на скриншоте. Если нет - повторите шаги
                            выше.
                        </div>
                    </div>
                    <div class="mb-5" id="keys">
                        <h3>3. Генерация ключа</h3>
                        <div class="mb-4">
                            Сначала нам нужно подготовить окружение к работе, для этого мы все будем делать в
                            отдельном скрине и запишем переменные, которые нам пригодятся позднее:<br>
                            <kbd>echo 'export REGEN_WALLET=имя кошелька' >>
                                $HOME/.bashrc</kbd> (если у вас уже есть кошелек - regen keys list)<br>
                            <kbd>echo 'export REGEN_MONIKER=имядляноды' >>
                                $HOME/.bashrc</kbd> (можно любое)<br>
                            <kbd>source ~/.bashrc</kbd><br>
                        </div>
                        <div class="mb-4">
                            Для того, чтобы стать валидатором нам нужно инициализировать нашу ноду и добавить ключи. Для
                            этого выполняем следующие команды:<br>
                            <!-- <kbd>regen init --chain-id=aplikigo-1 $REGEN_MONIKER</kbd> - где $REGEN_MONIKER - название
                            вашей ноды (может быть чем угодно)<br> -->
                            <kbd>regen init --chain-id=aplikigo-1 $REGEN_MONIKER</kbd><br>
                            Примерный вывод:<br>
                            <img src="img/2.png" class="img-fluid my-1" alt="Regen Init Output"><br>
                            <div class="alert alert-warning my-3">
                                Следующий шаг нужно выполнять только в том случае, если у вас нет кошелька (<kbd>regen
                                    keys list</kbd> - список ваших кошельков).<br>
                                Если же у вас есть сид фраза, то вы можете восстановить свой кошелек следующей
                                командой:<br>
                                <!-- <kbd>regen keys add $REGEN_WALLET --recover</kbd> - где $REGEN_WALLET - название вашего
                                кошелька<br> -->
                                <kbd>regen keys add $REGEN_WALLET --recover</kbd><br>
                            </div>
                            Создать новый кошелек с названием $REGEN_WALLET:<br>
                            <kbd>regen keys add $REGEN_WALLET</kbd><br>
                            Два раза вводим наш пароль, нажимаем Enter. Готово, теперь у вас есть ключи.
                            <div class="alert alert-warning my-3">
                                Обязательно запишите и сохраните вывод этой команды - используя сид (набор слов в последней строке вывода команды) вы сможете в последствии восстановить доступ к кошельку.
                            </div>
                        </div>
                    </div>
                    <div class="mb-5" id="validator">
                        <h3>4. Работа над валидатором</h3>
                        <h4>4.1. Создание валидатора</h4>
                        <div class="mb-4 ml-1">
                            <div class="alert alert-warning my-3">
                                В данный момент вы не можете создать валидатора если не прошли отбор в тестнет, однако, вы можете дождаться пока заработает кран для того, чтоб у вас появился баланс, который вы сможете застейкать.<br>
                                Выполнять команду ниже если вы прошли в тестнет НЕ НУЖНО.
                            </div>
                            Для того, чтобы создать валидатора выполните следующую команду:<br>
                            <div class="bg-kbd">
                                <kbd>regen tx staking create-validator --amount=9000000utree \<br>
                                    --pubkey=$(regen tendermint show-validator) \<br>
                                    --moniker=$REGEN_MONIKER \<br>
                                    --chain-id=aplikigo-1 \<br>
                                    --commission-rate="0.10" \<br>
                                    --commission-max-rate="0.20" \<br>
                                    --commission-max-change-rate="0.01" \<br>
                                    --min-self-delegation="1" \<br>
                                    --gas="auto" \<br>
                                    --from=$REGEN_WALLET</kbd>
                            </div>
                        </div>
                        <h4>4.2. Настройка валидатора</h4>
                        <div class="mb-4 ml-1">
                            Для начала нам необходимо загрузить файл <kbd>genesis.json</kbd> в конфигурационный файл Regen:<br>
                            <kbd>curl https://raw.githubusercontent.com/regen-network/testnets/master/aplikigo-1/genesis.json > $HOME/.regen/config/genesis.json</kbd>
                        </div>
                        <div class="mb-4 ml-1">
                            Теперь нам нужно добавить <kbd>seeds</kbd> и <kbd>persistent_peers</kbd> в конфигурационный файл.<br>
                            Для этого открываем конфигурационный файл:<br>
                            <kbd>nano $HOME/.regen/config/config.toml</kbd><br>
                            Ищем там строчки <kbd>seeds</kbd> и <kbd>persistent_peers</kbd>, устанавливаем следующие значения:<br>
                            <kbd>seeds = "9082e4d408b0794f884f8c1733d7d11ffb010e38@161.35.51.84:26656"</kbd><br>
                            <kbd>persistent_peers = "35d64042e1a5f6466b2b1540fa2e859dfc49666e@public-rpc1.regen.vitwit.com:26656,9082e4d408b0794f884f8c1733d7d11ffb010e38@161.35.51.84:26656"</kbd><br>
                            Жмем Ctrl + X, затем Y. Итоговый результат:<br>
                            <img src="img/3.png" class="img-fluid my-1" alt="Config Output 1"><br>
                        </div>
                        <div class="mb-4 ml-1">
                            Осталось установить минимальную цену на газ, для этого открываем другой конфигурационный файл командой ниже:<br>
                            <kbd>nano $HOME/.regen/config/app.toml</kbd><br>
                            Ищем там строчку <kbd>minimum-gas-prices</kbd>, устанавливаем следующее значение:<br>
                            <kbd>minimum-gas-prices = "0.025utree"</kbd><br>
                            Жмем Ctrl + X, затем Y. Итоговый результат:<br>
                            <img src="img/4.png" class="img-fluid my-1" alt="Config Output 2"><br>
                        </div>
                    </div>
                    <div class="mb-5" id="validator">
                        <h3>5. Запуск ноды</h3>
                        <h4>5.1. По-умолчанию</h4>
                        <div class="mb-4 ml-1">
                            Для того, чтобы запустить ноду выполните следующую команду:<br>
                            <kbd>screen -S regen_node</kbd><br>
                            <kbd>regen start</kbd><br>
                            Для выхода из <kbd>screen</kbd> нажмите Ctrl + A, затем D. В скрине с запущенной нодой вы должны видеть примерно следующее:<br>
                            <img src="img/5.png" class="img-fluid my-1" alt="Node Output"><br>
                            Проверьте статус командой:<br>
                            <kbd>regen status</kbd><br>
                        </div>
                        <h4>5.2. В виде сервиса</h4>
                        <div class="mb-4 ml-1">
                            Делаем <kbd>regen</kbd> сервисом следующими командами:<br>
                            <kbd>echo "[Unit]
                                Description=Regen Node
                                After=network-online.target
                                [Service]
                                User=${USER}
                                ExecStart=${GOBIN}/regen start
                                Restart=always
                                RestartSec=3
                                LimitNOFILE=4096
                                [Install]
                                WantedBy=multi-user.target
                                " >regen.service</kbd><br>
                            <kbd>sudo mv regen.service /lib/systemd/system/</kbd><br>
                            <kbd>sudo systemctl daemon-reload</kbd><br>
                            <kbd>sudo systemctl enable regen.service</kbd><br>
                            <kbd>sudo systemctl start regen.service</kbd><br>
                        </div>
                        <div class="mb-4 ml-1">
                            Проверьте статус командой:<br>
                            <kbd>regen status</kbd><br>
                            Проверьте логи командой:<br>
                            <kbd>sudo journalctl -u regen -f</kbd>
                        </div>
                        Поздрвляю, нода запущена!
                    </div>

                </div>
            </div>
        </div>
    </div>
    <footer class="text-center my-2">
        Made with <img src="/img/cyberlenin.png" id="cyberlenin"> for the community by <a href="https://nodes.guru">NodesGuru</a>
    </footer>
    <script src="js/script.js" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous">
    </script>
</body>

</html>